<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="clr-namespace:SLSKDONET.Views.Avalonia.Converters"
             x:Class="SLSKDONET.App"
             RequestedThemeVariant="Dark">
    
    <Application.Resources>
        <!-- Dynamic Font Sizes for UI Scaling -->
        <x:Double x:Key="FontSizeSmall">12</x:Double>
        <x:Double x:Key="FontSizeMedium">14</x:Double>
        <x:Double x:Key="FontSizeLarge">16</x:Double>
        <x:Double x:Key="FontSizeXLarge">18</x:Double>
        
        <!-- Like/Heart Converters -->
        <converters:BoolToHeartConverter x:Key="BoolToHeartConverter"/>
        <converters:BoolToHeartColorConverter x:Key="BoolToHeartColorConverter"/>
        
        <!-- Boolean State Converters -->
        <converters:BoolToColorConverter x:Key="BoolToColorConverter"/>
        <converters:BoolToLibraryStatusColorConverter x:Key="BoolToLibraryStatusColorConverter"/>
        <converters:BoolToLibraryStatusTextConverter x:Key="BoolToLibraryStatusTextConverter"/>
        <converters:BoolToEditModeTextConverter x:Key="BoolToEditModeTextConverter"/>
        <converters:BoolToPlayPauseTextConverter x:Key="BoolToPlayPauseTextConverter"/>
        <converters:BoolToPlayPauseIconConverter x:Key="BoolToPlayPauseIconConverter"/>
        <converters:BoolToBackgroundConverter x:Key="BoolToBackgroundConverter"/>
        <converters:BoolToFontWeightConverter x:Key="BoolToFontWeightConverter"/>
        
        <!-- Utility Converters -->
        <converters:RepeatModeIconConverter x:Key="RepeatModeIconConverter"/>
        <converters:RepeatModeColorConverter x:Key="RepeatModeColorConverter"/>
        <converters:EqualityConverter x:Key="EqualityConverter"/>
        <converters:WidthToVisibilityConverter x:Key="WidthToVisibilityConverter"/>
        <converters:PlayerLocationConverter x:Key="PlayerLocationConverter"/>
        <converters:PlayerDockIconConverter x:Key="PlayerDockIconConverter"/>
        <converters:BitmapValueConverter x:Key="BitmapValueConverter"/>
        <converters:BoolInverseConverter x:Key="BoolInverseConverter"/>

        <!-- Icons -->
        <StreamGeometry x:Key="icons_spotify">M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141 4.32-1.32 9.84-.6 13.561 1.621.42.181.6.779.18 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 14.82 1.14.54.3.72.96.42 1.5-.3.54-.96.72-1.5.42z</StreamGeometry>
    </Application.Resources>
    
    <Application.Styles>
        <FluentTheme/>
        <StyleInclude Source="avares://Avalonia.Controls.DataGrid/Themes/Fluent.xaml"/>
        <StyleInclude Source="avares://Avalonia.Controls.TreeDataGrid/Themes/Fluent.axaml"/>
        <StyleInclude Source="avares://SLSKDONET/Themes/AvaloniaTheme.axaml"/>

        <!-- Sidebar Navigation Items -->
        <Style Selector="Button.nav-item">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#AAA"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="CornerRadius" Value="4"/>
        </Style>
        <Style Selector="Button.nav-item:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#333"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <!-- Tool/Dropdown Buttons -->
        <Style Selector="DropDownButton.tool">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Foreground" Value="#888"/>
        </Style>
        <Style Selector="DropDownButton.tool:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#333"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <!-- Danger Buttons -->
        <Style Selector="Button.danger">
            <Setter Property="Background" Value="#33FF0000"/>
            <Setter Property="Foreground" Value="#FF6B6B"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="CornerRadius" Value="4"/>
        </Style>
        <Style Selector="Button.danger:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#66FF0000"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
    </Application.Styles>
    
    <!-- System Tray Icon -->
    <TrayIcon.Icons>
        <TrayIcons>
            <TrayIcon ToolTipText="SLSKDONET - Soulseek Music Downloader">
                <TrayIcon.Menu>
                    <NativeMenu>
                        <NativeMenuItem Header="Show Window" Click="ShowWindow_Click"/>
                        <NativeMenuItem Header="Hide Window" Click="HideWindow_Click"/>
                        <NativeMenuItemSeparator/>
                        <NativeMenuItem Header="Exit" Click="Exit_Click"/>
                    </NativeMenu>
                </TrayIcon.Menu>
            </TrayIcon>
        </TrayIcons>
    </TrayIcon.Icons>
</Application>
